{% extends 'clear-content.html' %}

{% block container %}
<div class="container" style="margin-bottom: 2em;">

  <div class="z-depth-2">
    <div class="container">
      <h2 class="center-align">Sign up</h2>
      <form method="post" class="col s12" style="padding-bottom: 2em;">
        {% csrf_token %}
        <div class="row">
          <div class="input-field col s12">
            {{form.email}}
            <label for="email">{{form.email.label}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{form.first_name}}
            <label for="first_name">{{form.first_name.label}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{form.last_name}}
            <label for="last_name">{{form.last_name.label}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{form.username}}
            <label for="username">{{form.username.label}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{form.password1}}
            <label for="password">{{form.password1.label}}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{form.password2}}
            <label for="password">{{form.password2.label}}</label>
          </div>
        </div>
        <div class="col s12 right-align">
          <button type="submit" class="waves-effect waves-light btn-large">Log In</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock container %}

{% block javascript %}

  {% if form.errors %}
    {% for field in form %}
      {% for error in field.errors %}
        M.toast(
        {html: '<strong>{{ error|escape }}</strong>', classes: 'red rounded', displayLength: 2000}
        );
      {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
      M.toast(
      {html: '<strong>{{ error|escape }}</strong>', classes: 'red rounded', displayLength: 2000}
      );
    {% endfor %}
  {% endif %}

{% endblock javascript %}
